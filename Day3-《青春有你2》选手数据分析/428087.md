## ï¼ï¼ï¼ä½œä¸šè¯´æ˜ï¼ï¼ï¼

## è¯·åœ¨ä¸‹æ–¹æç¤ºä½ç½®ï¼Œè¡¥å……ä»£ç ï¼Œå¯¹ã€Šé’æ˜¥æœ‰ä½ 2ã€‹å¯¹é€‰æ‰‹ä½“é‡åˆ†å¸ƒè¿›è¡Œå¯è§†åŒ–ï¼Œç»˜åˆ¶é¥¼çŠ¶å›¾ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š


## ä»»åŠ¡æè¿°ï¼š

åŸºäºç¬¬äºŒå¤©å®è·µä½¿ç”¨Pythonæ¥çˆ¬å»ç™¾åº¦ç™¾ç§‘ä¸­ã€Šé’æ˜¥æœ‰ä½ 2ã€‹æ‰€æœ‰å‚èµ›é€‰æ‰‹çš„ä¿¡æ¯ï¼Œè¿›è¡Œæ•°æ®å¯è§†åŒ–åˆ†æã€‚




```python
# å¦‚æœéœ€è¦è¿›è¡ŒæŒä¹…åŒ–å®‰è£…, éœ€è¦ä½¿ç”¨æŒä¹…åŒ–è·¯å¾„, å¦‚ä¸‹æ–¹ä»£ç ç¤ºä¾‹:
# !mkdir /home/aistudio/external-libraries
# !pip install matplotlib -t /home/aistudio/external-libraries
```

    Looking in indexes: https://pypi.mirrors.ustc.edu.cn/simple/
    Collecting matplotlib
    [?25l  Downloading https://mirrors.tuna.tsinghua.edu.cn/pypi/web/packages/b2/c2/71fcf957710f3ba1f09088b35776a799ba7dd95f7c2b195ec800933b276b/matplotlib-3.2.1-cp37-cp37m-manylinux1_x86_64.whl (12.4MB)
    [K     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 12.4MB 465kB/s eta 0:00:01
    [?25hCollecting python-dateutil>=2.1 (from matplotlib)
    [33m  WARNING: Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPSConnectionPool(host='mirrors.ustc.edu.cn', port=443): Read timed out. (read timeout=15)")': /pypi/web/simple/python-dateutil/[0m
    [?25l  Downloading https://mirrors.tuna.tsinghua.edu.cn/pypi/web/packages/d4/70/d60450c3dd48ef87586924207ae8907090de0b306af2bce5d134d78615cb/python_dateutil-2.8.1-py2.py3-none-any.whl (227kB)
    [K     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 235kB 57.6MB/s eta 0:00:01
    [?25hCollecting cycler>=0.10 (from matplotlib)
      Downloading https://mirrors.tuna.tsinghua.edu.cn/pypi/web/packages/f7/d2/e07d3ebb2bd7af696440ce7e754c59dd546ffe1bbe732c8ab68b9c834e61/cycler-0.10.0-py2.py3-none-any.whl
    Collecting numpy>=1.11 (from matplotlib)
    [?25l  Downloading https://mirrors.tuna.tsinghua.edu.cn/pypi/web/packages/e7/38/f14d6706ae4fa327bdb023ef40b4d902bccd314d886fac4031687a8acc74/numpy-1.18.3-cp37-cp37m-manylinux1_x86_64.whl (20.2MB)
    [K     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 20.2MB 467kB/s eta 0:00:01     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–     | 16.6MB 122kB/s eta 0:00:29
    [?25hCollecting pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.1 (from matplotlib)
    [?25l  Downloading https://mirrors.tuna.tsinghua.edu.cn/pypi/web/packages/8a/bb/488841f56197b13700afd5658fc279a2025a39e22449b7cf29864669b15d/pyparsing-2.4.7-py2.py3-none-any.whl (67kB)
    [K     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 71kB 21.1MB/s eta 0:00:01
    [?25hCollecting kiwisolver>=1.0.1 (from matplotlib)
    [?25l  Downloading https://mirrors.tuna.tsinghua.edu.cn/pypi/web/packages/31/b9/6202dcae729998a0ade30e80ac00f616542ef445b088ec970d407dfd41c0/kiwisolver-1.2.0-cp37-cp37m-manylinux1_x86_64.whl (88kB)
    [K     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 92kB 15.8MB/s eta 0:00:01
    [?25hCollecting six>=1.5 (from python-dateutil>=2.1->matplotlib)
      Downloading https://mirrors.tuna.tsinghua.edu.cn/pypi/web/packages/65/eb/1f97cb97bfc2390a276969c6fae16075da282f5058082d4cb10c6c5c1dba/six-1.14.0-py2.py3-none-any.whl
    Installing collected packages: six, python-dateutil, cycler, numpy, pyparsing, kiwisolver, matplotlib
    Successfully installed cycler-0.10.0 kiwisolver-1.2.0 matplotlib-3.2.1 numpy-1.18.3 pyparsing-2.4.7 python-dateutil-2.8.1 six-1.14.0



```python
# åŒæ—¶æ·»åŠ å¦‚ä¸‹ä»£ç , è¿™æ ·æ¯æ¬¡ç¯å¢ƒ(kernel)å¯åŠ¨çš„æ—¶å€™åªè¦è¿è¡Œä¸‹æ–¹ä»£ç å³å¯:
# Also add the following code, so that every time the environment (kernel) starts, just run the following code:
import sys
sys.path.append('/home/aistudio/external-libraries')
```


```python
# ä¸‹è½½ä¸­æ–‡å­—ä½“
!wget https://mydueros.cdn.bcebos.com/font/simhei.ttf
# å°†å­—ä½“æ–‡ä»¶å¤åˆ¶åˆ°matplotlibå­—ä½“è·¯å¾„
!cp simhei.ttf /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/matplotlib/mpl-data/fonts/ttf/
# ä¸€èˆ¬åªéœ€è¦å°†å­—ä½“æ–‡ä»¶å¤åˆ¶åˆ°ç³»ç»Ÿå­—ä½“ç›®å½•ä¸‹å³å¯ï¼Œä½†æ˜¯åœ¨aistudioä¸Šè¯¥è·¯å¾„æ²¡æœ‰å†™æƒé™ï¼Œæ‰€ä»¥æ­¤æ–¹æ³•ä¸èƒ½ç”¨
# !cp simhei.ttf /usr/share/fonts/

# åˆ›å»ºç³»ç»Ÿå­—ä½“æ–‡ä»¶è·¯å¾„
!mkdir .fonts
# å¤åˆ¶æ–‡ä»¶åˆ°è¯¥è·¯å¾„
!cp simhei.ttf .fonts/
!rm -rf .cache/matplotlib
```

    --2020-04-25 15:14:14--  https://mydueros.cdn.bcebos.com/font/simhei.ttf
    Resolving mydueros.cdn.bcebos.com (mydueros.cdn.bcebos.com)... 182.61.200.195, 182.61.200.229
    Connecting to mydueros.cdn.bcebos.com (mydueros.cdn.bcebos.com)|182.61.200.195|:443... connected.
    HTTP request sent, awaiting response... 403 Forbidden
    2020-04-25 15:14:14 ERROR 403: Forbidden.



## ç»˜åˆ¶é€‰æ‰‹åŒºåŸŸåˆ†å¸ƒæŸ±çŠ¶å›¾


```python
import matplotlib.pyplot as plt
import numpy as np 
import json
import matplotlib.font_manager as font_manager

#æ˜¾ç¤ºmatplotlibç”Ÿæˆçš„å›¾å½¢
%matplotlib inline

with open('data/data31557/20200422.json', 'r', encoding='UTF-8') as file:
         json_array = json.loads(file.read())

#ç»˜åˆ¶å°å§å§åŒºåŸŸåˆ†å¸ƒæŸ±çŠ¶å›¾,xè½´ä¸ºåœ°åŒºï¼Œyè½´ä¸ºè¯¥åŒºåŸŸçš„å°å§å§æ•°é‡

zones = []
for star in json_array:
    zone = star['zone']
    zones.append(zone)
print(len(zones))
print(zones)


zone_list = []
count_list = []

for zone in zones:
    if zone not in zone_list:
        count = zones.count(zone)
        zone_list.append(zone)
        count_list.append(count)

print(zone_list)
print(count_list)

# è®¾ç½®æ˜¾ç¤ºä¸­æ–‡
plt.rcParams['font.sans-serif'] = ['SimHei'] # æŒ‡å®šé»˜è®¤å­—ä½“

plt.figure(figsize=(20,15))

plt.bar(range(len(count_list)), count_list,color='r',tick_label=zone_list,facecolor='#9999ff',edgecolor='white')

# è¿™é‡Œæ˜¯è°ƒèŠ‚æ¨ªåæ ‡çš„å€¾æ–œåº¦ï¼Œrotationæ˜¯åº¦æ•°ï¼Œä»¥åŠè®¾ç½®åˆ»åº¦å­—ä½“å¤§å°
plt.xticks(rotation=45,fontsize=20)
plt.yticks(fontsize=20)

plt.legend()
plt.title('''ã€Šé’æ˜¥æœ‰ä½ 2ã€‹å‚èµ›é€‰æ‰‹''',fontsize = 24)
plt.savefig('/home/aistudio/work/result/bar_result.jpg')
plt.show()

```

    No handles with labels found to put in legend.


    109
    ['ä¸­å›½æ¹–åŒ—', 'ä¸­å›½å››å·', 'ä¸­å›½å±±ä¸œ', 'ä¸­å›½æµ™æ±Ÿ', 'ä¸­å›½å±±ä¸œ', 'ä¸­å›½å°æ¹¾', 'ä¸­å›½é™•è¥¿', 'ä¸­å›½å¹¿ä¸œ', 'ä¸­å›½é»‘é¾™æ±Ÿ', 'ä¸­å›½ä¸Šæµ·', 'ä¸­å›½å››å·', 'ä¸­å›½å±±ä¸œ', 'ä¸­å›½å®‰å¾½', 'ä¸­å›½å®‰å¾½', 'ä¸­å›½å®‰å¾½', 'ä¸­å›½åŒ—äº¬', 'ä¸­å›½è´µå·', 'ä¸­å›½å‰æ—', 'ä¸­å›½å››å·', 'ä¸­å›½å››å·', 'ä¸­å›½æ±Ÿè‹', 'ä¸­å›½å±±ä¸œ', 'ä¸­å›½å±±ä¸œ', 'ä¸­å›½å±±ä¸œ', 'ä¸­å›½å±±ä¸œ', 'ä¸­å›½æ±Ÿè‹', 'ä¸­å›½å››å·', 'ä¸­å›½å±±ä¸œ', 'ä¸­å›½å±±ä¸œ', 'ä¸­å›½å¹¿ä¸œ', 'ä¸­å›½æµ™æ±Ÿ', 'ä¸­å›½æ²³å—', 'ä¸­å›½å®‰å¾½', 'ä¸­å›½æ²³å—', 'ä¸­å›½åŒ—äº¬', 'ä¸­å›½åŒ—äº¬', 'é©¬æ¥è¥¿äºš', 'ä¸­å›½æ¹–åŒ—', 'ä¸­å›½å››å·', 'ä¸­å›½å¤©æ´¥', 'ä¸­å›½é»‘é¾™æ±Ÿ', 'ä¸­å›½å››å·', 'ä¸­å›½é™•è¥¿', 'ä¸­å›½è¾½å®', 'ä¸­å›½æ¹–å—', 'ä¸­å›½ä¸Šæµ·', 'ä¸­å›½è´µå·', 'ä¸­å›½å±±ä¸œ', 'ä¸­å›½æ¹–åŒ—', 'ä¸­å›½é»‘é¾™æ±Ÿ', 'ä¸­å›½é»‘é¾™æ±Ÿ', 'ä¸­å›½ä¸Šæµ·', 'ä¸­å›½æµ™æ±Ÿ', 'ä¸­å›½æ¹–å—', 'ä¸­å›½å°æ¹¾', 'ä¸­å›½å°æ¹¾', 'ä¸­å›½å°æ¹¾', 'ä¸­å›½å°æ¹¾', 'ä¸­å›½å±±ä¸œ', 'ä¸­å›½åŒ—äº¬', 'ä¸­å›½åŒ—äº¬', 'ä¸­å›½æµ™æ±Ÿ', 'ä¸­å›½æ²³å—', 'ä¸­å›½æ²³å—', 'ä¸­å›½ç¦å»º', 'ä¸­å›½æ²³å—', 'ä¸­å›½åŒ—äº¬', 'ä¸­å›½å±±ä¸œ', 'ä¸­å›½å››å·', 'ä¸­å›½å®‰å¾½', 'ä¸­å›½æ²³å—', 'ä¸­å›½å››å·', 'ä¸­å›½æ¹–åŒ—', 'ä¸­å›½å››å·', 'ä¸­å›½é™•è¥¿', 'ä¸­å›½æ¹–å—', 'ä¸­å›½å››å·', 'ä¸­å›½å°æ¹¾', 'ä¸­å›½æ¹–åŒ—', 'ä¸­å›½å¹¿è¥¿', 'ä¸­å›½æ±Ÿè¥¿', 'ä¸­å›½æ¹–å—', 'ä¸­å›½æ¹–åŒ—', 'ä¸­å›½åŒ—äº¬', 'ä¸­å›½é™•è¥¿', 'ä¸­å›½ä¸Šæµ·', 'ä¸­å›½å››å·', 'ä¸­å›½å±±ä¸œ', 'ä¸­å›½è¾½å®', 'ä¸­å›½è¾½å®', 'ä¸­å›½å°æ¹¾', 'ä¸­å›½æµ™æ±Ÿ', 'ä¸­å›½åŒ—äº¬', 'ä¸­å›½é»‘é¾™æ±Ÿ', 'ä¸­å›½åŒ—äº¬', 'ä¸­å›½å®‰å¾½', 'ä¸­å›½æ²³åŒ—', 'é©¬æ¥è¥¿äºš', 'ä¸­å›½å››å·', 'ä¸­å›½æ¹–å—', 'ä¸­å›½å°æ¹¾', 'ä¸­å›½å¹¿ä¸œ', 'ä¸­å›½ä¸Šæµ·', 'ä¸­å›½å››å·', 'æ—¥æœ¬', 'ä¸­å›½è¾½å®', 'ä¸­å›½é»‘é¾™æ±Ÿ', 'ä¸­å›½æµ™æ±Ÿ', 'ä¸­å›½å°æ¹¾']
    ['ä¸­å›½æ¹–åŒ—', 'ä¸­å›½å››å·', 'ä¸­å›½å±±ä¸œ', 'ä¸­å›½æµ™æ±Ÿ', 'ä¸­å›½å°æ¹¾', 'ä¸­å›½é™•è¥¿', 'ä¸­å›½å¹¿ä¸œ', 'ä¸­å›½é»‘é¾™æ±Ÿ', 'ä¸­å›½ä¸Šæµ·', 'ä¸­å›½å®‰å¾½', 'ä¸­å›½åŒ—äº¬', 'ä¸­å›½è´µå·', 'ä¸­å›½å‰æ—', 'ä¸­å›½æ±Ÿè‹', 'ä¸­å›½æ²³å—', 'é©¬æ¥è¥¿äºš', 'ä¸­å›½å¤©æ´¥', 'ä¸­å›½è¾½å®', 'ä¸­å›½æ¹–å—', 'ä¸­å›½ç¦å»º', 'ä¸­å›½å¹¿è¥¿', 'ä¸­å›½æ±Ÿè¥¿', 'ä¸­å›½æ²³åŒ—', 'æ—¥æœ¬']
    [6, 14, 13, 6, 9, 4, 3, 6, 5, 6, 9, 2, 1, 2, 6, 2, 1, 4, 5, 1, 1, 1, 1, 1]



![png](output_6_2.png)



```python
import matplotlib.pyplot as plt
import numpy as np 
import json
import matplotlib.font_manager as font_manager
import pandas as pd

#æ˜¾ç¤ºmatplotlibç”Ÿæˆçš„å›¾å½¢
%matplotlib inline


df = pd.read_json('data/data31557/20200422.json')
#print(df)

grouped=df['name'].groupby(df['zone'])
s = grouped.count()

zone_list = s.index
count_list = s.values


# è®¾ç½®æ˜¾ç¤ºä¸­æ–‡
plt.rcParams['font.sans-serif'] = ['SimHei'] # æŒ‡å®šé»˜è®¤å­—ä½“

plt.figure(figsize=(20,15))

plt.bar(range(len(count_list)), count_list,color='r',tick_label=zone_list,facecolor='#9999ff',edgecolor='white')

# è¿™é‡Œæ˜¯è°ƒèŠ‚æ¨ªåæ ‡çš„å€¾æ–œåº¦ï¼Œrotationæ˜¯åº¦æ•°ï¼Œä»¥åŠè®¾ç½®åˆ»åº¦å­—ä½“å¤§å°
plt.xticks(rotation=45,fontsize=20)
plt.yticks(fontsize=20)

plt.legend()
plt.title('''ã€Šé’æ˜¥æœ‰ä½ 2ã€‹å‚èµ›é€‰æ‰‹''',fontsize = 24)
plt.savefig('/home/aistudio/work/result/bar_result02.jpg')
plt.show()
```

    No handles with labels found to put in legend.



![png](output_7_1.png)


## è¯·åœ¨ä¸‹é¢å®Œæˆä½œä¸šï¼Œå¯¹é€‰æ‰‹ä½“é‡åˆ†å¸ƒè¿›è¡Œå¯è§†åŒ–ï¼Œç»˜åˆ¶é¥¼çŠ¶å›¾


```python
import matplotlib.pyplot as plt
import numpy as np
import json
import matplotlib.font_manager as font_manager
%matplotlib inline

df=pd.read_json('data/data31557/20200422.json')

weights=df['weight']
arrs=weights.values

for i in range(len(arrs)):
    arrs[i]=float(arrs[i][0:-2])

bin=[0,45,50,55,100]
se1=pd.cut(arrs,bin)

labels='<=45kg','45~50kg','50~55','>55kg'
sizes=pd.value_counts(se1)

print(sizes)
explode=(0.05,0.05,0.1,0)

fig1,ax1=plt.subplots()
ax1.pie(sizes,explode=explode,labels=labels,autopct='%1.1f%%',shadow=True,startangle=90)
ax1.axis('equal')
plt.title("ã€Šé’æ˜¥æœ‰ä½ 2ã€‹å¯¹é€‰æ‰‹ä½“é‡åˆ†å¸ƒ")
plt.savefig('/home/aistudio/work/result/pie_result02.jpg')
plt.show()
```

    (45, 50]     66
    (0, 45]      25
    (50, 55]     13
    (55, 100]     5
    dtype: int64



![png](output_9_1.png)



```python

```
